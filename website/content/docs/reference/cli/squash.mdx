---
title: jj squash
isCommand: true
---

Move changes from a revision into another revision

With the `-r` option, moves the changes from the specified revision to the parent revision. Fails if there are several parent revisions (i.e., the given revision is a merge).

With the `--from` and/or `--into` options, moves changes from/to the given revisions. If either is left out, it defaults to the working-copy commit. For example, `jj squash --into @--` moves changes from the working-copy commit to the grandparent.

If, after moving changes out, the source revision is empty compared to its parent(s), and `--keep-emptied` is not set, it will be abandoned. Without `--interactive` or paths, the source revision will always be empty.

If the source was abandoned and both the source and destination had a non-empty description, you will be asked for the combined description. If either was empty, then the other one will be used.

If a working-copy commit gets abandoned, it will be given a new, empty commit. This is true in general; it is not specific to this command.

EXPERIMENTAL FEATURES

An alternative squashing UI is available via the `-d`, `-A`, and `-B` options. They can be used together with one or more `--from` options (if no `--from` is specified, `--from @` is assumed).

```shell title="Usage"
jj squash [OPTIONS] [FILESETS]...
```

### Arguments

- `<FILESETS>` — Move only changes to these paths (instead of all paths)

### Options

- `-r`, `--revision <REVSET>` — Revision to squash into its parent (default: @). Incompatible with the experimental `-d`/`-A`/`-B` options
- `-f`, `--from <REVSETS>` — Revision(s) to squash from (default: @)
- `-t`, `--into <REVSET>` [alias: `to`] — Revision to squash into (default: @)
- `-d`, `--destination <REVSETS>` — (Experimental) The revision(s) to use as parent for the new commit (can be repeated to create a merge commit)
- `-A`, `--insert-after <REVSETS>` [alias: `after`] — (Experimental) The revision(s) to insert the new commit after (can be repeated to create a merge commit)
- `-B`, `--insert-before <REVSETS>` [alias: `before`] — (Experimental) The revision(s) to insert the new commit before (can be repeated to create a merge commit)
- `-m`, `--message <MESSAGE>` — The description to use for squashed revision (don't open editor)
- `-u`, `--use-destination-message` — Use the description of the destination revision and discard the description(s) of the source revision(s)
- `-i`, `--interactive` — Interactively choose which parts to squash
- `--tool <NAME>` — Specify diff editor to be used (implies --interactive)
- `-k`, `--keep-emptied` — The source revision will not be abandoned

